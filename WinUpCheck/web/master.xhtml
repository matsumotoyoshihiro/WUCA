<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>マスタ登録</title>
        <style>
            body {
                font-size: 14pt;
                font-family: メイリオ, Osaka;
            }
            h1 {
                font-size: 1.5em;
            }
        </style>
        <script type="text/javascript" >      
            function delCheck() {                 
                if(window.confirm('本当に削除してもよろしいですか？')) {              
                    document.write("#{masterControl.dalete()}");    //OKのとき入力したレコードを論理削除
                    window.alert('削除しました');
                }else {
                    window.alert('削除がキャンセルされました');
                }
            }
        </script>                
    </h:head>
    <h:body>                              
        <h:form>
            <table>
                <tr>
                    <td valign="top">
                        <table> 
                            <tr>
                                <td><h1>マスタ登録</h1></td>
                                <td><h:commandButton value="入力画面" action="#{masterControl.chDisp()}"
                                     style="width: 100px; height: 30px;left: 590px; top: 15px; position: absolute"/></td>
                            </tr>
                        </table>
                        
                        <table style="width: 700px;">                                
                            <tr>
                                <td style="width: 190px;"><h3>新規登録</h3></td>
                            </tr>
                            
                            <tr>
                                <td><h:outputLabel value="社員名　姓：" style="float: right"/></td>
                                <td><h:inputText value="#{masterControl.familyName}"/></td>
                                <td><h:outputLabel value="名："  style="float: right"/></td>
                                <td><h:inputText value="#{masterControl.name}" style="width: 190px;"/></td>
                            </tr>
                            
                            <tr>
                                <td><h:outputLabel value="PC名：" style="float: right"/></td>
                                <td><h:inputText value="#{masterControl.pcName}" /></td>
                                <td><h:commandButton action="#{masterControl.create()}" value="登　録"
                                     style="width: 100px; height: 30px;left: 590px; position: absolute;"/></td>                    
                            </tr>
                        </table>
            
                        <br></br>
                        <br></br>
                    
                        <table style="width: 700px;">
                            <tr>
                                <td style="width: 190px;"><h3>データ更新</h3></td>
                            </tr>
                            
                            <tr>
                                <td><h:outputLabel value="更新ID：" style="float: right;"/> </td>
                                <td><h:inputText value="#{masterControl.updateID}"/> </td>
                            </tr>
                        
                            <tr>
                                <td> <h:outputLabel value="社員名　姓：" style="float: right"/> </td>
                                <td><h:inputText value="#{masterControl.newFamilyName}"/> </td>
                                <td><h:outputLabel value="名：" style="float: right"/></td>
                                <td><h:inputText value="#{masterControl.newName}" style="width: 190px;"/></td>
                            </tr>
                            
                            <tr>
                                <td> <h:outputLabel value="PC名：" style="float: right"/> </td>
                                <td> <h:inputText value="#{masterControl.newPcName}" /> </td>
                                <td><h:commandButton action="#{masterControl.update()}" value="更新"
                                     style="width: 100px; height: 30px;left: 590px; position: absolute;"/></td>
                            </tr>                        
                        </table>
   
                        <br></br>
                        <br></br>
                
                        <table style="width: 700px;">
                            <tr>
                                <td style="width: 190px;"><h3>データ削除</h3></td>
                            </tr>
                            
                            <tr>
                                <td><h:outputLabel value="削除ID：" style="float: right"/> </td>
                                <td><h:inputText  value="#{masterControl.deleteID}"/> </td>
                                <td><h:commandButton  onclick="#{masterControl.dalete()}" value="削除"
                                     style="width: 100px; height: 30px;left: 590px; position: absolute;"/></td>                    
                            </tr>
                    </table>
                </td>
                <td style="width: 30px;"></td>
                <td valign="top">
                    <h1>一覧表</h1>    
                
                    <h:dataTable value="#{masterControl.all}" var="row" border="1" cellspacing="0" bodyrows="12">
                
                        <h:column >
                            <f:facet name ="header">
                                <h:outputText value="ID"/>
                            </f:facet>
                    
                            <h:outputText value ="#{row.ID}" />
                    
                        </h:column>
                
                        <h:column >
                            <f:facet name ="header">
                                <h:outputText value="社員名" style="width: 100px;"/>
                            </f:facet>
                            
                            <h:outputText value ="#{row.familyName} #{row.name}" />
                    
                        </h:column>
                
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="　PC名　"/>
                            </f:facet>
                    
                            <h:outputText value ="#{row.pcName}" />     
                    
                        </h:column>    
                    </h:dataTable>
                </td>
            </tr>
            </table>
        </h:form>                         
    </h:body>
</html>
